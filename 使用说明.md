# 统一场论公式集 - 使用说明

## 🚀 快速开始

### 1. 启动应用
应用已经在运行中，访问: **http://localhost:52026/**

### 2. 查看公式
- 页面会自动加载并渲染 17 个统一场论公式
- 点击任意公式卡片查看详细信息
- 公式按类别分类：时空理论、力学基础、统一理论、电磁理论、应用理论

## 🔧 如果公式显示失败

### 方法 1: 使用调试面板（推荐）
1. 点击页面右下角的 **🔧** 按钮
2. 查看状态信息
3. 点击 **"重新渲染所有公式"** 按钮
4. 等待几秒，公式应该会正常显示

### 方法 2: 使用浏览器控制台
1. 按 **F12** 打开开发者工具
2. 切换到 **Console** 标签
3. 复制粘贴 `quick-fix.js` 的内容并回车
4. 或者直接运行：
```javascript
window.MathJax.typesetPromise()
```

### 方法 3: 点击重试按钮
如果某个公式显示 "公式渲染失败"，直接点击该公式上的 **"重试"** 按钮

### 方法 4: 刷新页面
按 **Ctrl+F5** (Windows) 或 **Cmd+Shift+R** (Mac) 强制刷新页面

## 📊 公式列表

### 时空理论 (2个)
1. 时空同一化方程
2. 三维螺旋时空方程

### 力学基础 (4个)
3. 质量定义方程
4. 引力场定义方程
5. 静止动量方程
6. 运动动量方程

### 统一理论 (2个)
7. 宇宙大统一方程（力方程）
8. 空间波动方程

### 电磁理论 (7个)
9. 电荷定义方程
10. 电场定义方程
11. 磁场定义方程
12. 变化的引力场产生电磁场
13. 磁矢势方程
14. 变化的引力场产生电场
15. 变化的磁场产生引力场和电场

### 应用理论 (2个)
16. 统一场论能量方程
17. 光速飞行器动力学方程

## 🎯 功能特性

### 公式展示
- ✅ 美观的卡片式布局
- ✅ 实时 LaTeX 公式渲染
- ✅ 分类标签和颜色编码
- ✅ 响应式设计，支持移动端

### 交互功能
- ✅ 点击查看公式详情
- ✅ 模态框展示完整信息
- ✅ 自动错误重试机制
- ✅ 加载状态提示

### 调试工具
- ✅ 实时状态监控
- ✅ 一键重新渲染
- ✅ 错误统计和诊断
- ✅ 调试信息导出

## 🛠️ 调试面板功能

点击右下角 🔧 按钮打开调试面板，可以：

### 状态检查
- MathJax 加载状态
- 渲染功能可用性
- 公式元素统计
- 错误数量统计

### 快速修复
- **重新渲染所有公式**: 重新渲染页面上的所有公式
- **清除并重新渲染**: 清除缓存后重新渲染
- **刷新状态**: 更新状态信息
- **复制调试信息**: 复制详细的调试数据

### 调试信息
显示完整的 MathJax 状态和配置信息，方便排查问题

## 📝 常见问题

### Q: 公式显示为原始 LaTeX 代码？
**A**: MathJax 还在加载中，等待几秒或点击调试面板的"重新渲染"按钮

### Q: 部分公式显示正常，部分显示错误？
**A**: 点击失败公式的"重试"按钮，或使用调试面板重新渲染所有公式

### Q: 页面加载很慢？
**A**: 正常现象，17个复杂公式需要一些时间渲染。已启用批量渲染和缓存优化

### Q: 调试面板在哪里？
**A**: 页面右下角的 🔧 浮动按钮，点击即可打开

### Q: 如何查看公式详情？
**A**: 点击任意公式卡片，会弹出模态框显示详细信息

## 🔍 技术细节

### MathJax 配置
- 使用 MathJax 3.x
- SVG 渲染模式
- 支持 `$...$` 和 `\[...\]` 定界符
- 自定义向量宏 `\vec`

### 渲染流程
1. 组件挂载
2. 等待 MathJax 就绪
3. 清理公式文本
4. 包装公式定界符
5. 调用 MathJax 渲染
6. 显示结果或错误

### 性能优化
- ✅ 批量渲染
- ✅ 渲染缓存
- ✅ 自动重试机制
- ✅ 懒加载支持（可选）

## 📚 相关文档

- `FORMULA_FIX_GUIDE.md` - 详细的修复指南
- `FORMULA_RENDERING_SOLUTION.md` - 完整的技术方案
- `quick-fix.js` - 一键修复脚本
- `test-formula-simple.html` - 简单测试页面

## 💡 提示

1. **首次加载**: 首次打开页面时，MathJax 需要下载和初始化，请耐心等待
2. **网络问题**: 如果 MathJax CDN 加载失败，请检查网络连接
3. **浏览器兼容**: 推荐使用 Chrome、Firefox、Edge 等现代浏览器
4. **移动端**: 支持移动端访问，但建议使用桌面端获得最佳体验

## 🎉 享受探索统一场论！

如有问题，请使用调试工具或查看相关文档。
