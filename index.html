<!doctype html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#00f5ff" />
  <title>张祥前统一场论 - UTF Star</title>
  <meta name="description" content="基于Vue3的现代化Web应用，专门用于可视化张祥前统一场论的核心公式" />

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json" />

  <!-- iOS Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="UTF Star" />
  <link rel="apple-touch-icon" href="/icon-192.png" />

  <!-- MathJax 全局配置 -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
        macros: {
          vec: ['\\overrightarrow{#1}', 1],
          R: '\\mathbb{R}',
          C: '\\mathbb{C}',
          N: '\\mathbb{N}',
          Z: '\\mathbb{Z}',
          Q: '\\mathbb{Q}'
        },
        packages: { '[+]': ['ams', 'physics', 'color'] }
      },
      loader: {
        load: ['[tex]/ams', '[tex]/physics', '[tex]/color']
      },
      svg: {
        scale: 1.2,
        minScale: 0.5,
        mtextInheritFont: true,
        merrorInheritFont: true,
        mathmlSpacing: false,
        skipAttributes: {},
        exFactor: 0.5,
        displayAlign: 'center',
        displayIndent: '0'
      },
      startup: {
        pageReady: () => {
          return window.MathJax.startup.defaultPageReady().then(() => {
            console.log('✅ MathJax 已成功加载并初始化');
            // 触发自定义事件通知应用 MathJax 已就绪
            window.dispatchEvent(new Event('mathjax-ready'));
          }).catch((err) => {
            console.error('❌ MathJax 初始化失败:', err);
          });
        }
      },
      options: {
        enableMenu: true,
        menuOptions: {
          settings: {
            zoom: 'Click'
          }
        }
      }
    };
  </script>

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
</head>

<body>
  <div id="app"></div>
  <script type="module" src="/src/main.ts"></script>

  <!-- 引入 MathJax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</body>

</html>